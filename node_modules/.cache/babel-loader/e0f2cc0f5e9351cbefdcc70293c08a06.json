{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFile\\\\Project\\\\shop-via\\\\src\\\\components\\\\admin\\\\charts\\\\RealtimeChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { Chart, LineController, LineElement, Filler, PointElement, LinearScale, TimeScale, Tooltip } from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig, formatValue } from '../utils/Utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(LineController, LineElement, Filler, PointElement, LinearScale, TimeScale, Tooltip);\nfunction RealtimeChart(_ref) {\n  _s();\n  let {\n    data,\n    width,\n    height\n  } = _ref;\n  const canvas = useRef(null);\n  const chartValue = useRef(null);\n  const chartDeviation = useRef(null);\n  useEffect(() => {\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'line',\n      data: data,\n      options: {\n        layout: {\n          padding: 20\n        },\n        scales: {\n          y: {\n            grid: {\n              drawBorder: false\n            },\n            suggestedMin: 30,\n            suggestedMax: 80,\n            ticks: {\n              maxTicksLimit: 5,\n              callback: value => formatValue(value)\n            }\n          },\n          x: {\n            type: 'time',\n            time: {\n              parser: 'hh:mm:ss',\n              unit: 'second',\n              tooltipFormat: 'MMM DD, H:mm:ss a',\n              displayFormats: {\n                second: 'H:mm:ss'\n              }\n            },\n            grid: {\n              display: false,\n              drawBorder: false\n            },\n            ticks: {\n              autoSkipPadding: 48,\n              maxRotation: 0\n            }\n          }\n        },\n        plugins: {\n          legend: {\n            display: false\n          },\n          tooltip: {\n            titleFont: {\n              weight: '600'\n            },\n            callbacks: {\n              label: context => formatValue(context.parsed.y)\n            }\n          }\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest'\n        },\n        animation: false,\n        maintainAspectRatio: false,\n        resizeDelay: 200\n      }\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  // Update header values\n  useEffect(() => {\n    const currentValue = data.datasets[0].data[data.datasets[0].data.length - 1];\n    const previousValue = data.datasets[0].data[data.datasets[0].data.length - 2];\n    const diff = (currentValue - previousValue) / previousValue * 100;\n    chartValue.current.innerHTML = data.datasets[0].data[data.datasets[0].data.length - 1];\n    if (diff < 0) {\n      chartDeviation.current.style.backgroundColor = tailwindConfig().theme.colors.yellow[500];\n    } else {\n      chartDeviation.current.style.backgroundColor = tailwindConfig().theme.colors.green[500];\n    }\n    chartDeviation.current.innerHTML = `${diff > 0 ? '+' : ''}${diff.toFixed(2)}%`;\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-slate-800 mr-2 tabular-nums\",\n          children: [\"$\", /*#__PURE__*/_jsxDEV(\"span\", {\n            ref: chartValue,\n            children: \"57.81\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 81\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chartDeviation,\n          className: \"text-sm font-semibold text-white px-1.5 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grow\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvas,\n        data: data,\n        width: width,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n_s(RealtimeChart, \"ZG6H8z1spltjiQ0YPzwzGMoeteE=\");\n_c = RealtimeChart;\nexport default RealtimeChart;\nvar _c;\n$RefreshReg$(_c, \"RealtimeChart\");","map":{"version":3,"names":["React","useRef","useEffect","Chart","LineController","LineElement","Filler","PointElement","LinearScale","TimeScale","Tooltip","tailwindConfig","formatValue","register","RealtimeChart","data","width","height","canvas","chartValue","chartDeviation","ctx","current","chart","type","options","layout","padding","scales","y","grid","drawBorder","suggestedMin","suggestedMax","ticks","maxTicksLimit","callback","value","x","time","parser","unit","tooltipFormat","displayFormats","second","display","autoSkipPadding","maxRotation","plugins","legend","tooltip","titleFont","weight","callbacks","label","context","parsed","interaction","intersect","mode","animation","maintainAspectRatio","resizeDelay","destroy","currentValue","datasets","length","previousValue","diff","innerHTML","style","backgroundColor","theme","colors","yellow","green","toFixed"],"sources":["D:/MyFile/Project/shop-via/src/components/admin/charts/RealtimeChart.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nimport {\n  Chart, LineController, LineElement, Filler, PointElement, LinearScale, TimeScale, Tooltip,\n} from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig, formatValue } from '../utils/Utils';\n\nChart.register(LineController, LineElement, Filler, PointElement, LinearScale, TimeScale, Tooltip);\n\nfunction RealtimeChart({\n  data,\n  width,\n  height\n}) {\n\n  const canvas = useRef(null);\n  const chartValue = useRef(null);\n  const chartDeviation = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'line',\n      data: data,\n      options: {\n        layout: {\n          padding: 20,\n        },\n        scales: {\n          y: {\n            grid: {\n              drawBorder: false,\n            },\n            suggestedMin: 30,\n            suggestedMax: 80,\n            ticks: {\n              maxTicksLimit: 5,\n              callback: (value) => formatValue(value),\n            },\n          },\n          x: {\n            type: 'time',\n            time: {\n              parser: 'hh:mm:ss',\n              unit: 'second',\n              tooltipFormat: 'MMM DD, H:mm:ss a',\n              displayFormats: {\n                second: 'H:mm:ss',\n              },\n            },\n            grid: {\n              display: false,\n              drawBorder: false,\n            },\n            ticks: {\n              autoSkipPadding: 48,\n              maxRotation: 0,\n            },\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            titleFont: {\n              weight: '600',\n            },\n            callbacks: {\n              label: (context) => formatValue(context.parsed.y),\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest',\n        },\n        animation: false,\n        maintainAspectRatio: false,\n        resizeDelay: 200,\n      },\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  // Update header values\n  useEffect(() => {\n    const currentValue = data.datasets[0].data[data.datasets[0].data.length - 1];\n    const previousValue = data.datasets[0].data[data.datasets[0].data.length - 2];\n    const diff = ((currentValue - previousValue) / previousValue) * 100;\n    chartValue.current.innerHTML = data.datasets[0].data[data.datasets[0].data.length - 1];\n    if (diff < 0) {\n      chartDeviation.current.style.backgroundColor = tailwindConfig().theme.colors.yellow[500];\n    } else {\n      chartDeviation.current.style.backgroundColor = tailwindConfig().theme.colors.green[500];\n    }\n    chartDeviation.current.innerHTML = `${diff > 0 ? '+' : ''}${diff.toFixed(2)}%`;\n  }, [data]);\n\n  return (\n    <React.Fragment>\n      <div className=\"px-5 py-3\">\n        <div className=\"flex items-start\">\n          <div className=\"text-3xl font-bold text-slate-800 mr-2 tabular-nums\">$<span ref={chartValue}>57.81</span></div>\n          <div ref={chartDeviation} className=\"text-sm font-semibold text-white px-1.5 rounded-full\"></div>\n        </div>\n      </div>\n      <div className=\"grow\">\n        <canvas ref={canvas} data={data} width={width} height={height}></canvas>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default RealtimeChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}