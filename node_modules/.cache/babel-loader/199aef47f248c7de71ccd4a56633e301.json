{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFile\\\\Project\\\\shop-via\\\\src\\\\components\\\\admin\\\\charts\\\\DoughnutChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { Chart, DoughnutController, ArcElement, TimeScale, Tooltip } from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig } from '../utils/Utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(DoughnutController, ArcElement, TimeScale, Tooltip);\nfunction DoughnutChart(_ref) {\n  _s();\n  let {\n    data,\n    width,\n    height\n  } = _ref;\n  const canvas = useRef(null);\n  const legend = useRef(null);\n  useEffect(() => {\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'doughnut',\n      data: data,\n      options: {\n        cutout: '80%',\n        layout: {\n          padding: 24\n        },\n        plugins: {\n          legend: {\n            display: false\n          }\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest'\n        },\n        animation: {\n          duration: 500\n        },\n        maintainAspectRatio: false,\n        resizeDelay: 200\n      },\n      plugins: [{\n        id: 'htmlLegend',\n        afterUpdate(c, args, options) {\n          const ul = legend.current;\n          if (!ul) return;\n          // Remove old legend items\n          while (ul.firstChild) {\n            ul.firstChild.remove();\n          }\n          // Reuse the built-in legendItems generator\n          const items = c.options.plugins.legend.labels.generateLabels(c);\n          items.forEach(item => {\n            const li = document.createElement('li');\n            li.style.margin = tailwindConfig().theme.margin[1];\n            // Button element\n            const button = document.createElement('button');\n            button.classList.add('btn-xs');\n            button.style.backgroundColor = tailwindConfig().theme.colors.white;\n            button.style.borderWidth = tailwindConfig().theme.borderWidth[1];\n            button.style.borderColor = tailwindConfig().theme.colors.slate[200];\n            button.style.color = tailwindConfig().theme.colors.slate[500];\n            button.style.boxShadow = tailwindConfig().theme.boxShadow.md;\n            button.style.opacity = item.hidden ? '.3' : '';\n            button.onclick = () => {\n              c.toggleDataVisibility(item.index, !item.index);\n              c.update();\n            };\n            // Color box\n            const box = document.createElement('span');\n            box.style.display = 'block';\n            box.style.width = tailwindConfig().theme.width[2];\n            box.style.height = tailwindConfig().theme.height[2];\n            box.style.backgroundColor = item.fillStyle;\n            box.style.borderRadius = tailwindConfig().theme.borderRadius.sm;\n            box.style.marginRight = tailwindConfig().theme.margin[1];\n            box.style.pointerEvents = 'none';\n            // Label\n            const label = document.createElement('span');\n            label.style.display = 'flex';\n            label.style.alignItems = 'center';\n            const labelText = document.createTextNode(item.text);\n            label.appendChild(labelText);\n            li.appendChild(button);\n            button.appendChild(box);\n            button.appendChild(label);\n            ul.appendChild(li);\n          });\n        }\n      }]\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grow flex flex-col justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvas,\n        width: width,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 pt-2 pb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: legend,\n        className: \"flex flex-wrap justify-center -m-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_s(DoughnutChart, \"5Lu3sfscD5qblS+vZ3r+X941HsA=\");\n_c = DoughnutChart;\nexport default DoughnutChart;\nvar _c;\n$RefreshReg$(_c, \"DoughnutChart\");","map":{"version":3,"names":["React","useRef","useEffect","Chart","DoughnutController","ArcElement","TimeScale","Tooltip","tailwindConfig","register","DoughnutChart","data","width","height","canvas","legend","ctx","current","chart","type","options","cutout","layout","padding","plugins","display","interaction","intersect","mode","animation","duration","maintainAspectRatio","resizeDelay","id","afterUpdate","c","args","ul","firstChild","remove","items","labels","generateLabels","forEach","item","li","document","createElement","style","margin","theme","button","classList","add","backgroundColor","colors","white","borderWidth","borderColor","slate","color","boxShadow","md","opacity","hidden","onclick","toggleDataVisibility","index","update","box","fillStyle","borderRadius","sm","marginRight","pointerEvents","label","alignItems","labelText","createTextNode","text","appendChild","destroy"],"sources":["D:/MyFile/Project/shop-via/src/components/admin/charts/DoughnutChart.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nimport {\n  Chart, DoughnutController, ArcElement, TimeScale, Tooltip,\n} from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig } from '../utils/Utils';\n\nChart.register(DoughnutController, ArcElement, TimeScale, Tooltip);\n\nfunction DoughnutChart({\n  data,\n  width,\n  height\n}) {\n\n  const canvas = useRef(null);\n  const legend = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'doughnut',\n      data: data,\n      options: {\n        cutout: '80%',\n        layout: {\n          padding: 24,\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest',\n        },\n        animation: {\n          duration: 500,\n        },\n        maintainAspectRatio: false,\n        resizeDelay: 200,\n      },\n      plugins: [{\n        id: 'htmlLegend',\n        afterUpdate(c, args, options) {\n          const ul = legend.current;\n          if (!ul) return;\n          // Remove old legend items\n          while (ul.firstChild) {\n            ul.firstChild.remove();\n          }\n          // Reuse the built-in legendItems generator\n          const items = c.options.plugins.legend.labels.generateLabels(c);\n          items.forEach((item) => {\n            const li = document.createElement('li');\n            li.style.margin = tailwindConfig().theme.margin[1];\n            // Button element\n            const button = document.createElement('button');\n            button.classList.add('btn-xs');\n            button.style.backgroundColor = tailwindConfig().theme.colors.white;\n            button.style.borderWidth = tailwindConfig().theme.borderWidth[1];\n            button.style.borderColor = tailwindConfig().theme.colors.slate[200];\n            button.style.color = tailwindConfig().theme.colors.slate[500];\n            button.style.boxShadow = tailwindConfig().theme.boxShadow.md;\n            button.style.opacity = item.hidden ? '.3' : '';\n            button.onclick = () => {\n              c.toggleDataVisibility(item.index, !item.index);\n              c.update();\n            };\n            // Color box\n            const box = document.createElement('span');\n            box.style.display = 'block';\n            box.style.width = tailwindConfig().theme.width[2];\n            box.style.height = tailwindConfig().theme.height[2];\n            box.style.backgroundColor = item.fillStyle;\n            box.style.borderRadius = tailwindConfig().theme.borderRadius.sm;\n            box.style.marginRight = tailwindConfig().theme.margin[1];\n            box.style.pointerEvents = 'none';\n            // Label\n            const label = document.createElement('span');\n            label.style.display = 'flex';\n            label.style.alignItems = 'center';\n            const labelText = document.createTextNode(item.text);\n            label.appendChild(labelText);\n            li.appendChild(button);\n            button.appendChild(box);\n            button.appendChild(label);\n            ul.appendChild(li);\n          });\n        },\n      }],\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"grow flex flex-col justify-center\">\n      <div>\n        <canvas ref={canvas} width={width} height={height}></canvas>\n      </div>\n      <div className=\"px-5 pt-2 pb-6\">\n        <ul ref={legend} className=\"flex flex-wrap justify-center -m-1\"></ul>\n      </div>\n    </div>\n  );\n}\n\nexport default DoughnutChart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}