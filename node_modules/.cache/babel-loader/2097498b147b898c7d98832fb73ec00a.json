{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyFile\\\\Project\\\\shop-via\\\\src\\\\components\\\\admin\\\\charts\\\\BarChart03.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport { Chart, BarController, BarElement, LinearScale, CategoryScale, Tooltip, Legend } from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig } from '../utils/Utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(BarController, BarElement, LinearScale, CategoryScale, Tooltip, Legend);\nfunction BarChart03(_ref) {\n  _s();\n  let {\n    data,\n    width,\n    height\n  } = _ref;\n  const canvas = useRef(null);\n  const legend = useRef(null);\n  useEffect(() => {\n    // Calculate sum of values\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\n    const values = data.datasets.map(x => x.data.reduce(reducer));\n    const max = values.reduce(reducer);\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'bar',\n      data: data,\n      options: {\n        indexAxis: 'y',\n        layout: {\n          padding: {\n            top: 12,\n            bottom: 12,\n            left: 20,\n            right: 20\n          }\n        },\n        scales: {\n          x: {\n            stacked: true,\n            display: false,\n            max: max\n          },\n          y: {\n            stacked: true,\n            display: false\n          }\n        },\n        plugins: {\n          legend: {\n            display: false\n          },\n          tooltip: {\n            callbacks: {\n              title: () => false,\n              // Disable tooltip title\n              label: context => context.parsed.x\n            }\n          }\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest'\n        },\n        animation: {\n          duration: 500\n        },\n        maintainAspectRatio: false,\n        resizeDelay: 200\n      },\n      plugins: [{\n        id: 'htmlLegend',\n        afterUpdate(c, args, options) {\n          const ul = legend.current;\n          if (!ul) return;\n          // Remove old legend items\n          while (ul.firstChild) {\n            ul.firstChild.remove();\n          }\n          // Reuse the built-in legendItems generator\n          const items = c.options.plugins.legend.labels.generateLabels(c);\n          items.forEach(item => {\n            const li = document.createElement('li');\n            li.style.display = 'flex';\n            li.style.justifyContent = 'space-between';\n            li.style.alignItems = 'center';\n            li.style.paddingTop = tailwindConfig().theme.padding[2.5];\n            li.style.paddingBottom = tailwindConfig().theme.padding[2.5];\n            const wrapper = document.createElement('div');\n            wrapper.style.display = 'flex';\n            wrapper.style.alignItems = 'center';\n            const box = document.createElement('div');\n            box.style.width = tailwindConfig().theme.width[3];\n            box.style.height = tailwindConfig().theme.width[3];\n            box.style.borderRadius = tailwindConfig().theme.borderRadius.sm;\n            box.style.marginRight = tailwindConfig().theme.margin[3];\n            box.style.backgroundColor = item.fillStyle;\n            const label = document.createElement('div');\n            const value = document.createElement('div');\n            value.style.fontWeight = tailwindConfig().theme.fontWeight.medium;\n            value.style.marginLeft = tailwindConfig().theme.margin[3];\n            value.style.color = item.text === 'Other' ? tailwindConfig().theme.colors.slate[400] : item.fillStyle;\n            const theValue = c.data.datasets[item.datasetIndex].data.reduce((a, b) => a + b, 0);\n            const valueText = document.createTextNode(`${parseInt(theValue / max * 100)}%`);\n            const labelText = document.createTextNode(item.text);\n            value.appendChild(valueText);\n            label.appendChild(labelText);\n            ul.appendChild(li);\n            li.appendChild(wrapper);\n            li.appendChild(value);\n            wrapper.appendChild(box);\n            wrapper.appendChild(label);\n          });\n        }\n      }]\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grow flex flex-col justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvas,\n        width: width,\n        height: height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-5 pt-2 pb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        ref: legend,\n        className: \"text-sm divide-y divide-slate-100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-sm divide-y divide-slate-100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(BarChart03, \"5Lu3sfscD5qblS+vZ3r+X941HsA=\");\n_c = BarChart03;\nexport default BarChart03;\nvar _c;\n$RefreshReg$(_c, \"BarChart03\");","map":{"version":3,"names":["React","useRef","useEffect","Chart","BarController","BarElement","LinearScale","CategoryScale","Tooltip","Legend","tailwindConfig","register","BarChart03","data","width","height","canvas","legend","reducer","accumulator","currentValue","values","datasets","map","x","reduce","max","ctx","current","chart","type","options","indexAxis","layout","padding","top","bottom","left","right","scales","stacked","display","y","plugins","tooltip","callbacks","title","label","context","parsed","interaction","intersect","mode","animation","duration","maintainAspectRatio","resizeDelay","id","afterUpdate","c","args","ul","firstChild","remove","items","labels","generateLabels","forEach","item","li","document","createElement","style","justifyContent","alignItems","paddingTop","theme","paddingBottom","wrapper","box","borderRadius","sm","marginRight","margin","backgroundColor","fillStyle","value","fontWeight","medium","marginLeft","color","text","colors","slate","theValue","datasetIndex","a","b","valueText","createTextNode","parseInt","labelText","appendChild","destroy"],"sources":["D:/MyFile/Project/shop-via/src/components/admin/charts/BarChart03.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nimport {\n  Chart, BarController, BarElement, LinearScale, CategoryScale, Tooltip, Legend,\n} from 'chart.js';\nimport 'chartjs-adapter-moment';\n\n// Import utilities\nimport { tailwindConfig } from '../utils/Utils';\n\nChart.register(BarController, BarElement, LinearScale, CategoryScale, Tooltip, Legend);\n\nfunction BarChart03({\n  data,\n  width,\n  height\n}) {\n\n  const canvas = useRef(null);\n  const legend = useRef(null);\n\n  useEffect(() => {\n\n    // Calculate sum of values\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\n    const values = data.datasets.map(x => x.data.reduce(reducer));\n    const max = values.reduce(reducer);\n\n    const ctx = canvas.current;\n    // eslint-disable-next-line no-unused-vars\n    const chart = new Chart(ctx, {\n      type: 'bar',\n      data: data,\n      options: {\n        indexAxis: 'y',\n        layout: {\n          padding: {\n            top: 12,\n            bottom: 12,\n            left: 20,\n            right: 20,\n          },\n        },\n        scales: {\n          x: {\n            stacked: true,\n            display: false,\n            max: max,\n          },\n          y: {\n            stacked: true,\n            display: false,\n          },\n        },\n        plugins: {\n          legend: {\n            display: false,\n          },\n          tooltip: {\n            callbacks: {\n              title: () => false, // Disable tooltip title\n              label: (context) => context.parsed.x,\n            },\n          },\n        },\n        interaction: {\n          intersect: false,\n          mode: 'nearest'\n        },\n        animation: {\n          duration: 500,\n        },\n        maintainAspectRatio: false,\n        resizeDelay: 200,\n      },\n      plugins: [{\n        id: 'htmlLegend',\n        afterUpdate(c, args, options) {\n          const ul = legend.current;\n          if (!ul) return;\n          // Remove old legend items\n          while (ul.firstChild) {\n            ul.firstChild.remove();\n          }\n          // Reuse the built-in legendItems generator\n          const items = c.options.plugins.legend.labels.generateLabels(c);\n          items.forEach((item) => {\n            const li = document.createElement('li');\n            li.style.display = 'flex';\n            li.style.justifyContent = 'space-between';\n            li.style.alignItems = 'center';\n            li.style.paddingTop = tailwindConfig().theme.padding[2.5];\n            li.style.paddingBottom = tailwindConfig().theme.padding[2.5];\n            const wrapper = document.createElement('div');\n            wrapper.style.display = 'flex';\n            wrapper.style.alignItems = 'center';\n            const box = document.createElement('div');\n            box.style.width = tailwindConfig().theme.width[3];\n            box.style.height = tailwindConfig().theme.width[3];\n            box.style.borderRadius = tailwindConfig().theme.borderRadius.sm;\n            box.style.marginRight = tailwindConfig().theme.margin[3];\n            box.style.backgroundColor = item.fillStyle;\n            const label = document.createElement('div');\n            const value = document.createElement('div');\n            value.style.fontWeight = tailwindConfig().theme.fontWeight.medium;\n            value.style.marginLeft = tailwindConfig().theme.margin[3];\n            value.style.color = item.text === 'Other' ? tailwindConfig().theme.colors.slate[400] : item.fillStyle;\n            const theValue = c.data.datasets[item.datasetIndex].data.reduce((a, b) => a + b, 0);\n            const valueText = document.createTextNode(`${parseInt(theValue / max * 100)}%`);\n            const labelText = document.createTextNode(item.text);\n            value.appendChild(valueText);\n            label.appendChild(labelText);\n            ul.appendChild(li);\n            li.appendChild(wrapper);\n            li.appendChild(value);\n            wrapper.appendChild(box);\n            wrapper.appendChild(label);\n          });\n        },\n      }],\n    });\n    return () => chart.destroy();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"grow flex flex-col justify-center\">\n      <div>\n        <canvas ref={canvas} width={width} height={height}></canvas>\n      </div>\n      <div className=\"px-5 pt-2 pb-2\">\n        <ul ref={legend} className=\"text-sm divide-y divide-slate-100\"></ul>\n        <ul className=\"text-sm divide-y divide-slate-100\"></ul>\n      </div>\n    </div>\n  );\n}\n\nexport default BarChart03;"],"mappings":"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"},"metadata":{},"sourceType":"module"}